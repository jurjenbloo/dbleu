<header class="bg-white shadow">
  <!-- Skip link for keyboard and screen‑reader users -->
  <a href="#main"
     class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4
            bg-primary text-white px-4 py-2 rounded">
     Skip to content
  </a>

  <nav role="navigation" aria-label="Primary" class="">
    <div class="container mx-auto flex items-center justify-between px-4 py-6">
      <!-- Brand -->
      <a href="{{ .Site.BaseURL }}" class="flex items-center">
        <span class="text-primary text-xl font-semibold uppercase xl:text-3xl">
          {{ .Site.Title }}
        </span>
      </a>

      <!-- Mobile hamburger toggle -->
      {{ $navID := "navbarContent" }}
      <button
        class="cursor-pointer xl:hidden"
        type="button"
        data-toggle-target="#{{$navID}}"
        data-toggle-class="-translate-y-full"
        aria-label="Toggle navigation"
        aria-controls="{{$navID}}"
        aria-expanded="false">
        {{ partial "heroicons/bars-4" }}
      </button>

      <!-- Navigation panel -->
      <div id="{{$navID}}"
           class="fixed inset-0 flex -translate-y-full flex-col items-center
                  justify-center gap-8 bg-white duration-500
                  xl:relative xl:translate-y-0 xl:flex-row">

        <!-- Mobile top bar with close button -->
        <div class="container absolute top-0 mx-auto flex items-center
                    justify-between px-4 py-6 xl:hidden">
          <a href="{{ .Site.BaseURL }}" class="flex items-center">
            <span class="text-primary text-xl font-semibold uppercase">
              {{ .Site.Title }}
            </span>
          </a>
          <button
            class="cursor-pointer xl:hidden"
            type="button"
            data-toggle-target="#{{$navID}}"
            data-toggle-class="-translate-y-full"
            aria-label="Close navigation"
            aria-controls="{{$navID}}"
            aria-expanded="true">
            {{ partial "heroicons/x-mark" }}
          </button>
        </div>

        <!-- Primary navigation links -->
        <ul class="flex flex-col gap-8 xl:flex-row">
          {{ range site.Menus.main }}
            <li class="text-center">
              <a href="{{ .URL | relURL }}"
                 class="text-primary"
                 {{ if .IsMenuCurrent "main" . }} aria-current="page" {{ end }}>
                {{ .Name }}
              </a>
            </li>
          {{ end }}
        </ul>

        <!-- Call‑to‑action buttons -->
        <ul class="flex flex-col gap-8 xl:flex-row" role="list">
          {{ range .Site.Menus.buttons }}
            <li class="text-center">
              {{ partial "components/button/primary" (dict "label" .Name "href" (.URL | relURL)) }}
            </li>
          {{ end }}
        </ul>
      </div>
    </div>
  </nav>
</header>
